"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),NetResponse=function(){function a(b){!(arguments.length<=1||void 0===arguments[1])&&arguments[1];_classCallCheck(this,a),this.text=b.responseText,this.status={text:b.statusText,code:b.status},this.url=b.responseURL,this.json=null;try{this.json=JSON.parse(b.responseText)}catch(c){this.debug&&console.warn("Failed to parse JSON",c)}this.status.successful=this.status.code<309,this.xreq=b}return _createClass(a,[{key:"log",value:function(){var a=this.status.successful?"green":"red";console.log("%c "+this.status.code+" "+this.status.text+" "+this.url+"\n","color:"+a,{data:this.json})}}]),a}(),NetRequest=function a(b,c,d,e,f){var g=this;return _classCallCheck(this,a),this.request=new XMLHttpRequest,this.response=null,__NET_ALLOWED_METHODS.has(b)?"string"==typeof c&&c.length>0?(f&&console.log("%c "+b+" "+c,"color:blue",{data:d,headers:e}),new Promise(function(a,h){if(g.request.open(b,c,!0),"object"==typeof e)for(var i in e)g.request.setRequestHeader(i,e[i]);g.request.onload=function(){g.response=new NetResponse(g.request),a(g.response),f&&g.response.log()},g.request.onerror=function(){g.response=new NetResponse(g.request),h(g.response),f&&g.response.log()};try{"object"==typeof d?g.request.send(JSON.stringify(d)):g.request.send()}catch(j){console.warn("Failed to send request",j)}})):(console.warn("Sorry, '"+c+"' is not a supported HTTP address"),!1):(console.warn("Sorry, '"+b+"' is not a supported HTTP method"),!1)},Net=function(){function a(b,c){_classCallCheck(this,a),this.headers=c||{"Content-Type":"application/json"},this.config={debug:!1,history:!1},this.root=b||null}return _createClass(a,[{key:"setup",value:function(a){return a&&"object"==typeof a?(this.config.debug=a.debug||!1,void(this.config.history=a.history||!1)):void console.warn(e)}},{key:"setHeaders",value:function(a){return this.headers=_extends({},this.headers,a),!0}},{key:"request",value:function(a,b,c,d){try{return new NetRequest(b,"string"==typeof this.root?""+this.root+a:a,c||null,"object"==typeof d?_extends({},this.headers,d):this.headers,this.config.debug)}catch(e){console.warn(e)}return!1}},{key:"get",value:function(a,b,c){return this.request(a,"GET",b,c)}},{key:"post",value:function(a,b,c){return this.request(a,"POST",b,c)}},{key:"put",value:function(a,b,c){return this.request(a,"PUT",b,c)}},{key:"patch",value:function(a,b,c){return this.request(a,"PATCH",b,c)}},{key:"delete",value:function(a,b,c){return this.request(a,"DELETE",b,c)}}]),a}(),__NET_ALLOWED_METHODS=new Set(["GET","POST","PUT","PATCH","DELETE","OPTIONS"]),__NET_AUTHORS=new Set(["David Hariri"]);